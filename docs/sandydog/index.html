<html lang="en">
<head>
<script src="../util.js"></script>
<script src="../schedule.js"></script>
</head>
<body>
<div>
<p>Remaining in this season there are <span id="showcases"></span> Showcase Challenge(s), 
<span id="supers"></span> Super RCQ(s), <span id="rcqs"></span> regular RCQ(s), and <span id="lcqs"></span> MOCS LCQ(s).<br><br>
You need <span id="qps1" style="color:red"></span> QPs to play all remaining QP-gated events and <span id="qps2" style="color:red"></span> QPs 
to play all remaining events without using any unnecessary PPs / tix.</p>
</div>
</body>
</html>
<script>
let today = new Date();
let instant = today.getTime(); // unix timestamp
let rcqs = 0;
let supers = 0;
let showcases = 0;
let lcqs = 0;

let rcqSched = getRCQs();
let showcaseSched = getShowcasesAndLCQs();
today.setDate(today.getDate() - 1);
for (let i = 0; i < 1000 && today.toDateString() !== "Wed March 22 2023"; i++) {
	for (let k = 0; k < 2; k++) {
		let sched = [rcqSched, showcaseSched][k];
		if (sched.get(today.toDateString()) != null) {
			for (let j = 0; j < 24; j++) {
				let event = sched.get(today.toDateString())[j];
				if (event != null) {
					if (instant <= getUnixTime(today, j)) {
						if (event.includes("Super")) {
							supers++;
						} else if (event.includes("Qualifier") || event.includes("RCQ")) {
							rcqs++;
						} else if (event.includes("LCQ")) {
							lcqs++;
						} else if (event.includes("Showcase")) {
							showcases++;
						}
					}
				}
			}
		}
	}
	today.setDate(today.getDate() + 1);
}
	
document.getElementById("showcases").innerHTML = showcases;
document.getElementById("supers").innerHTML = supers;
document.getElementById("rcqs").innerHTML = rcqs;
document.getElementById("lcqs").innerHTML = lcqs;
document.getElementById("qps1").innerHTML = 40 * (showcases + rcqs + lcqs);
document.getElementById("qps2").innerHTML = 40 * (showcases + rcqs + lcqs + supers);
</script>